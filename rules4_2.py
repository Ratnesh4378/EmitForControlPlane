
# Mirror Rules
bfrt.mirror.cfg.add_with_normal(sid=1, direction="INGRESS", ucast_egress_port = 64, ucast_egress_port_valid = True, session_enable = True)
bfrt.mirror.cfg.add_with_normal(sid=2, direction="INGRESS", ucast_egress_port = 65, ucast_egress_port_valid = True, session_enable = True)

# Recirculate, mirror and forwarding set up rules
bfrt.code4_2.pipe.IngressControl.t_setup_mirror_rclt.add_with_a_setup_mirror_rclt("192.168.1.1", 2, 68)
bfrt.code4_2.pipe.IngressControl.t_setup_mirror_rclt.add_with_a_setup_mirror_rclt("192.168.1.2", 1, 68)

bfrt.code4_2.pipe.IngressControl.t_save_state_and_recirculate.add_with_a_save_state_and_recirculate(0, 0, 1000, 68)

# bfrt.code4_2.pipe.IngressControl.t_arp.add_with_a_arp("192.168.1.1", "7a:5b:35:84:ee:58")
# bfrt.code4_2.pipe.IngressControl.t_arp.add_with_a_arp("192.168.1.2", "02:b5:24:d8:2a:58")

bfrt.code4_2.pipe.IngressControl.t_arp.add_with_a_arp("192.168.1.1", "3c:fd:fe:9e:7b:5c")
bfrt.code4_2.pipe.IngressControl.t_arp.add_with_a_arp("192.168.1.2", "3c:fd:fe:9e:7b:84")


bfrt.code4_2.pipe.IngressControl.t_filter_0.add_with_a_filter_0(0x61616161, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x613a, 0x0, 0x0, 0x31313131, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x312c, 0x0, 0x0)
bfrt.code4_2.pipe.IngressControl.t_filter_0.add_with_a_filter_1(0x62626262, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x623a, 0x0, 0x0, 0x32323232, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x322c, 0x0, 0x0)
bfrt.code4_2.pipe.IngressControl.t_filter_0.add_with_a_filter_2(0x63636363, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x633a, 0x0, 0x0, 0x33333333, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x332c, 0x0, 0x0)
bfrt.code4_2.pipe.IngressControl.t_filter_0.add_with_a_filter_3(0x64646464, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x643a, 0x0, 0x0, 0x34343434, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x342c, 0x0, 0x0)
bfrt.code4_2.pipe.IngressControl.t_filter_1.add_with_a_filter_0(0x61616161, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x613a, 0x0, 0x0, 0x31313131, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x312c, 0x0, 0x0)
bfrt.code4_2.pipe.IngressControl.t_filter_1.add_with_a_filter_1(0x62626262, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x623a, 0x0, 0x0, 0x32323232, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x322c, 0x0, 0x0)
bfrt.code4_2.pipe.IngressControl.t_filter_1.add_with_a_filter_2(0x63636363, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x633a, 0x0, 0x0, 0x33333333, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x332c, 0x0, 0x0)
bfrt.code4_2.pipe.IngressControl.t_filter_1.add_with_a_filter_3(0x64646464, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x643a, 0x0, 0x0, 0x34343434, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x342c, 0x0, 0x0)
bfrt.code4_2.pipe.IngressControl.t_check.add_with_a_increase_counter(1, 1, 1, 1)


# bfrt.code4_2.pipe.IngressControl.rclt_tot_cnt.get(0, from_hw=1)
# bfrt.code4_2.pipe.IngressControl.c_tot_cnt.get(0, from_hw=1)

bfrt.code4_2.pipe.IngressControl.c_tot_cnt.clear()
bfrt.code4_2.pipe.IngressControl.rclt_tot_cnt.clear()
